<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generic Company - Admin Manage Services</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/footer.css">
    <!-- service CSS file  -->
    <link rel="stylesheet" href="css/service.css">

</head>

<body>
    <div id="header-placeholder"></div>
    <script>
        fetch('admin-header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
            });
    </script>

    <main>
        <section>
            <h1>Manage Services</h1>

            <div class="service-item" >
                <h3 class="editable" contenteditable="false">First Service - Tutoring</h3>
                <p class="editable" contenteditable="false">Our first service is tailored for kids from 6 to 18 years old. It supports students who need extra help with their studies. We offer private tutoring services. Prices vary by age:</p>
                <ul class="editable" contenteditable="false">
                    <li>Ages 6 to 10: $20/hour</li>
                    <li>Ages 11 to 16: $30/hour</li>
                    <li>Ages 17 to 18: $40/hour</li>
                </ul>
                <button onclick="editService(this)">EDIT SERVICE</button>
                <button onclick="saveService(this)">SAVE SERVICE</button>
                <button onclick="deleteService(this)">DELETE SERVICE</button>
                <hr>
            </div>

            <div class="service-item">
                <h3 class="editable" contenteditable="false">Second service - Cleaning</h3>
                <p class="editable" contenteditable="false">Our cleaning service is ideal for clients seeking professional, thorough, and reliable cleaning solutions. We offer tailored packages to meet your specific needs, ensuring a spotless environment. This premium service costs 200$.</p>
                <button onclick="editService(this)">EDIT SERVICE</button>
                <button onclick="saveService(this)">SAVE SERVICE</button>
                <button onclick="deleteService(this)">DELETE SERVICE</button>
                <hr>
            </div>

            <div class="service-item">
                <h3 class="editable" contenteditable="false">Third Service - Pet Grooming</h3>
                <p class="editable" contenteditable="false">Our pet grooming service ensures your furry friends look and feel their best. We offer comprehensive grooming services including bathing, haircuts, and nail trimming. Prices vary based on the size of your dog:</p>
                <ul class="editable" contenteditable="false">
                    <li>Small Dogs: $30 per session</li>
                    <li>Medium Dogs: $40 per session</li>
                    <li>Large Dogs: $50 per session</li>
                </ul>
                <button onclick="editService(this)">EDIT SERVICE</button>
                <button onclick="saveService(this)">SAVE SERVICE</button>
                <button onclick="deleteService(this)">DELETE SERVICE</button>
                <hr>
            </div>

            <div class="service-item">
                <h3 class="editable" contenteditable="false">Other Service - Private Trainer</h3>
                <p class="editable" contenteditable="false">Our private training service offers personalized fitness coaching tailored to your individual goals. Whether you’re looking to improve your strength, endurance, or overall health, our trainers are here to guide you. This service is priced at $35 per hour.</p>
                <h4 class="editable" contenteditable="false">Meet Our Trainers:</h4>
                <ul class="editable" contenteditable="false">
                    <li><strong>Coach Sarah Thompson</strong> - Zumba & Cardio Specialist</li>
                    <li><strong>Coach Michael Scoot</strong> - Strength & Conditioning Expert</li>
                    <li><strong>Coach Melissa Rivera</strong> - Yoga & Flexibility Coach</li>
                    <li><strong>Coach David King</strong> - HIIT & Weight Loss Specialist</li>
                </ul>
                <button onclick="editService(this)">EDIT SERVICE</button>
                <button onclick="saveService(this)">SAVE SERVICE</button>
                <button onclick="deleteService(this)">DELETE SERVICE</button>
                <hr>
            </div>

            <div class="service-item">
                <h3 class="editable" contenteditable="false">Last Service - Stylist</h3>
                <p class="editable" contenteditable="false">Our stylist service offers expert advice and assistance in makeup, hair and clothing selection for special events. Whether you’re preparing for a wedding, party, or business event, our professional stylists will help you look your best. This service is budget-friendly, costing just $175 per session..</p>
                <button onclick="editService(this)">EDIT SERVICE</button>
                <button onclick="saveService(this)">SAVE SERVICE</button>
                <button onclick="deleteService(this)">DELETE SERVICE</button>
                <hr>
            </div>

            <!-- Add Service Box -->
            <div class="add-service-box" id="add-service-box">
                <h2>Add a New Service</h2>
                <label for="new-service-name">Service Name:</label><br>
                <input type="text" id="new-service-name" placeholder="Enter service name"><br><br>

                <label for="new-service-description">Service Description:</label><br>
                <textarea id="new-service-description" rows="4" placeholder="Enter service description"></textarea><br><br>

                <button onclick="addService()">ADD SERVICE</button>
            </div>
        </section>
    </main>

    <div id="footer-placeholder"></div>
    <script>
        fetch('footer-admin-client.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });

        // Function to make the text editable
        function editService(button) {
        const parent = button.parentNode;
        const serviceTitle = parent.querySelector('h3');
        const serviceDescription = parent.querySelector('p');
        const serviceHeader = parent.querySelector('h4');
        const serviceListItems = parent.querySelectorAll('ul li'); 

        // Make each section editable and add a class for styling
        if (serviceTitle) {
        serviceTitle.contentEditable = true;
        serviceTitle.classList.add('editing-header');
        }

        if (serviceDescription) {
        serviceDescription.contentEditable = true;
        serviceDescription.classList.add('editing-paragraph');
        }

        if (serviceHeader) {
        serviceHeader.contentEditable = true;
        serviceHeader.classList.add('editing-header');
        }

       // Make all list items editable and add a class for styling
        serviceListItems.forEach(item => {
        item.contentEditable = true;
        item.classList.add('editing-list');
        });
    }

        

     // Function to save the edited text (just for frontend purposes)
    function saveService(button) {
    const parent = button.parentNode;
    const serviceTitle = parent.querySelector('h3');
    const serviceDescription = parent.querySelector('p');
    const serviceHeader = parent.querySelector('h4');
    const serviceList = parent.querySelector('ul');

    if (serviceTitle) {
        serviceTitle.contentEditable = false;
        serviceTitle.classList.remove('editing-header');
    }

    if (serviceDescription) {
        serviceDescription.contentEditable = false;
        serviceDescription.classList.remove('editing-paragraph');
    }

    if (serviceHeader) {
        serviceHeader.contentEditable = false;
        serviceHeader.classList.remove('editing-header');
    }

    if (serviceList) {
        serviceList.contentEditable = false;
        serviceList.classList.remove('editing-box');

        // Loop through each list item and remove empty ones
        const listItems = serviceList.querySelectorAll('li');
        listItems.forEach(item => {
            if (item.textContent.trim() === "") {
                item.remove(); // Remove empty list items
            } else {
                item.contentEditable = false;
                item.classList.remove('editing-list');
            }
        });
    }

    alert("Service updated (not persisted in backend).");
}

        // Function to add a new service and insert it above the add service box
        function addService() {
            const serviceName = document.getElementById('new-service-name').value;
            const serviceDescription = document.getElementById('new-service-description').value;

            if (serviceName && serviceDescription) {
                const newServiceHTML = `
                <div class="service-item">
                    <h3 class="editable" contenteditable="false">${serviceName}</h3>
                    <p class="editable" contenteditable="false">${serviceDescription}</p>
                    <button onclick="editService(this)">EDIT SERVICE</button>
                    <button onclick="saveService(this)">SAVE SERVICE</button>
                    <button onclick="deleteService(this)">DELETE SERVICE</button>
                    <hr>
                </div>`;

                // Insert the new service above the "Add Service" box
                const addServiceBox = document.getElementById('add-service-box');
                addServiceBox.insertAdjacentHTML('beforebegin', newServiceHTML);

                // Clear input fields
                document.getElementById('new-service-name').value = '';
                document.getElementById('new-service-description').value = '';

                alert("New service added (not persisted in backend).");
            } else {
                alert("Please fill in both fields.");
            }
        }

        // Function to delete a service
        function deleteService(button) {
            const parent = button.parentNode;
            const confirmation = confirm("Are you sure you want to delete this service?");
            if (confirmation) {
                parent.remove();
                alert("Service deleted (not persisted in backend).");
            }
        }
    </script>
</body>

</html>
